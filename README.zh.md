# LiteDepot - è½»é‡çº§è´§å“å…¥åº“/å‡ºåº“ç®¡ç†å®¢æˆ·ç«¯

**è¯­è¨€ / Language:** [English](./README.md) | [ä¸­æ–‡](./README.zh.md)

LiteDepot æ˜¯ä¸€ä¸ªä»¥ä»“åº“è¿›å‡ºè´§å“ç™»è®°ä¸ºåœºæ™¯ã€ä»¥ AITableã€Bika ç­‰åœ¨çº¿ SaaS æ•°æ®è¡¨å¹³å°ä¸ºæœåŠ¡ç«¯ï¼Œé€šè¿‡ Electron ç¼–è¯‘çš„å®¢æˆ·ç«¯åº”ç”¨ Demoã€‚å®ƒå¸®åŠ©ä»“åº“ç®¡ç†å‘˜é€šè¿‡æ‰«ç æªå¿«é€Ÿå®Œæˆè´§å“å…¥åº“ã€å‡ºåº“å’Œç›˜ç‚¹æ“ä½œã€‚

![LiteDepot Screenshot](./docs/LiteDepot_screenshot.jpg)


### æ ¸å¿ƒç‰¹æ€§

- âœ… **æ‰«ç å¿«é€Ÿæ“ä½œ** - é€šè¿‡æ‰«ç æªå¿«é€Ÿå®Œæˆå…¥åº“ã€å‡ºåº“ã€ç›˜ç‚¹
- âœ… **æ— éœ€è´¦å·ç³»ç»Ÿ** - ä»…éœ€å¡«å†™äº‘æœåŠ¡ API Key å³å¯ä½¿ç”¨
- âœ… **åŠ¨æ€è¡¨ç»“æ„** - è‡ªåŠ¨è¯»å–äº‘è¡¨æ ¼ç»“æ„ï¼Œå®¢æˆ·ç«¯åŠ¨æ€ç”Ÿæˆå­—æ®µè¡¨å•
- âœ… **æ‰¹é‡å‡ºåº“** - æ”¯æŒæ‰«ç å¤šä¸ªè´§å“ä¸€æ¬¡æ€§æäº¤å‡ºåº“
- âœ… **ç¦»çº¿èƒ½åŠ›** - æœ¬åœ°ç¼“å­˜è´§å“åˆ—è¡¨ï¼Œç½‘ç»œå¼‚å¸¸æ—¶ä»å¯æŸ¥è¯¢
- âœ… **å…¨å±æ‰«ç æ¨¡å¼** - é€‚é…ä»“åº“å›ºå®šæ‰«ç å°åœºæ™¯
- âœ… **å¤šäº‘æœåŠ¡æ”¯æŒ** - æ”¯æŒ AITableã€Bikaã€ç»´æ ¼äº‘ç­‰äº‘æœåŠ¡
- âœ… **I18Næ”¯æŒ** - æ”¯æŒå¤šè¯­è¨€é…ç½®ï¼Œç›®å‰æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡

### ä¸»è¦åŠŸèƒ½

#### ğŸ“¦ å…¥åº“æµç¨‹
1. ç‚¹å‡»å·¦ä¾§å¯¼èˆªã€å…¥åº“ã€‘
2. æ‰«ç æˆ–è¾“å…¥è´§å“ç¼–å·
3. ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«å¹¶æ˜¾ç¤ºè´§å“è¯¦æƒ…
4. ç‚¹å‡»ã€ç¡®è®¤å…¥åº“ã€‘å®Œæˆæ“ä½œ

#### ğŸ“¤ å‡ºåº“æµç¨‹ï¼ˆæ”¯æŒæ‰¹é‡ï¼‰
1. ç‚¹å‡»å·¦ä¾§å¯¼èˆªã€å‡ºåº“ã€‘
2. å¤šæ¬¡æ‰«ç ï¼Œå°†è´§å“åŠ å…¥å‡ºåº“ç¯®
3. è¾“å…¥å€Ÿç”¨äººå§“å
4. ç‚¹å‡»ã€æäº¤å‡ºåº“ã€‘ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰è´§å“å‡ºåº“

#### ğŸ“‹ ç›˜ç‚¹æµç¨‹ï¼ˆTodoï¼‰
1. ç‚¹å‡»å·¦ä¾§å¯¼èˆªã€ç›˜ç‚¹ã€‘
2. æ‰«ç è´§å“ï¼Œç³»ç»Ÿè‡ªåŠ¨è®°å½•ç›˜ç‚¹æ—¶é—´
3. å®æ—¶æŸ¥çœ‹å·²ç›˜ç‚¹æ•°é‡å’Œè®°å½•
4. ç‚¹å‡»ã€ç»“æŸç›˜ç‚¹ã€‘æŸ¥çœ‹æœªç›˜ç‚¹è´§å“ç»Ÿè®¡

#### âš™ï¸ è®¾ç½®
- ä¿®æ”¹äº‘æœåŠ¡ API é…ç½®ã€å­—æ®µæ˜ å°„ã€è¡¨æ ¼æ˜ å°„
- æ¸…é™¤æœ¬åœ°ç¼“å­˜
- åŒæ­¥è´§å“åˆ—è¡¨

## Quick Start

### å‰ç½®å‡†å¤‡

1. **å‡†å¤‡ä½ çš„æ•°æ®è¡¨**
   - æ‰“å¼€ [AITable.ai](https://aitable.ai) æˆ– [Bika.ai](https://bika.ai)
   - å¯¼å…¥é¡¹ç›®æä¾›çš„ç¤ºä¾‹ Excel æ–‡ä»¶ï¼š`/mock_data/warehouse_demo_en.xlsx`ï¼ŒåŒ…å« `Products` å’Œ `StockTransactions` ä¸¤ä¸ªsheetsã€‚

2. **è·å– API å‡­è¯**
   - åœ¨ AITable ä¸­è·å–ä½ çš„ API Token
   - è·å– `space ID`
   - åœ¨ AITable è®¿é—®åˆšæ‰å¯¼å…¥çš„`Products`è¡¨ï¼Œ ä» URL åœ°å€æ å¤åˆ¶è¡¨æ ¼çš„IDï¼ˆä»¥ 'dst' å¼€å¤´çš„ï¼‰
   - åœ¨ AITable è®¿é—®åˆšæ‰å¯¼å…¥çš„`StockTransactions`è¡¨ï¼Œ ä» URL åœ°å€æ å¤åˆ¶è¡¨æ ¼çš„IDï¼ˆä»¥ 'dst' å¼€å¤´çš„ï¼‰

### å¯åŠ¨åº”ç”¨

1. **è¿è¡Œå®¢æˆ·ç«¯**
   ```
   åŒå‡»è¿è¡Œ LiteDepot-1.0.0-portable.exe
   ```

2. **é¦–æ¬¡é…ç½®**
   
   åœ¨è®¾ç½®ç•Œé¢å¡«å†™ç›¸å…³å‚æ•°ã€‚

   ![Settings](./docs/LiteDepot_settings.jpg)

3. **åŒæ­¥è´§å“æ•°æ®**
   
   åœ¨è®¾ç½®é¡µé¢æ‰¾åˆ°â€œæ•°æ®ç®¡ç†â€ï¼Œç‚¹å‡»ã€åŒæ­¥è´§å“åˆ—è¡¨ã€‘æŒ‰é’®ï¼Œä»äº‘ç«¯æ‹‰å–è´§å“æ•°æ®è‡³æœ¬åœ°ç¼“å­˜ã€‚

4. **å¼€å§‹ä½¿ç”¨**
   
   é…ç½®å®Œæˆåï¼Œå³å¯ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½ï¼š
   - **å…¥åº“**: æ‰«ç è´§å“ â†’ ç¡®è®¤å…¥åº“
   - **å‡ºåº“**: æ‰«ç å¤šä¸ªè´§å“ â†’ æ‰¹é‡æäº¤å‡ºåº“
   - **ç›˜ç‚¹**: æ‰«ç è´§å“ â†’ è‡ªåŠ¨è®°å½•ç›˜ç‚¹æ—¶é—´ï¼ˆä»…äº¤äº’ç¤ºæ„ï¼Œæœªå®ç°å…·ä½“ä¸šåŠ¡ä»£ç ï¼‰

   > ğŸ’¡ **æç¤º**: æ²¡æœ‰æ‰«ç æªï¼Ÿå¯ä»¥æ‰‹åŠ¨è¾“å…¥è´§å“ SKU ç¼–å·è¿›è¡Œæµ‹è¯•ï¼

## å¦‚ä½•å¼€å‘

### æŠ€æœ¯æ ˆ

- **å®¢æˆ·ç«¯æ¡†æ¶**: Electron
- **UI æ¡†æ¶**: React + TypeScript
- **æ ·å¼æ–¹æ¡ˆ**: TailwindCSS + shadcn/ui
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æœ¬åœ°å­˜å‚¨**: IndexedDB
- **æ„å»ºå·¥å…·**: Vite

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- pnpm >= 8

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

å¯åŠ¨ Electron å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰ï¼š

```bash
pnpm dev
```

### æ„å»ºåº”ç”¨

å¯ä»¥åŒæ—¶æ„å»º Windows/Mac æ¡Œé¢åº”ç”¨ï¼Œä¹Ÿå¯æŒ‡å®šæ„å»ºç¯å¢ƒã€‚

```bash

pnpm build
pnpm build:win
pnpm build:mac
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `release/` ç›®å½•ä¸‹ã€‚

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/              # API æ¥å£å±‚
â”‚   â”œâ”€â”€ aitable.ts   # AITable API å®ç°
â”‚   â”œâ”€â”€ base-provider.ts   # Provider åŸºç±»
â”‚   â””â”€â”€ provider-factory.ts # Provider å·¥å‚
â”œâ”€â”€ components/       # UI ç»„ä»¶
â”‚   â””â”€â”€ ui/          # shadcn/ui ç»„ä»¶åº“
â”œâ”€â”€ db/              # IndexedDB æœ¬åœ°æ•°æ®åº“
â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ InboundPage.tsx    # å…¥åº“é¡µé¢
â”‚   â”œâ”€â”€ OutboundPage.tsx   # å‡ºåº“é¡µé¢
â”‚   â”œâ”€â”€ InventoryPage.tsx  # ç›˜ç‚¹é¡µé¢
â”‚   â””â”€â”€ SettingsPage.tsx   # è®¾ç½®é¡µé¢
â”œâ”€â”€ store/           # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ configStore.ts     # é…ç½®çŠ¶æ€
â”‚   â”œâ”€â”€ productStore.ts    # è´§å“çŠ¶æ€
â”‚   â””â”€â”€ inventoryStore.ts  # åº“å­˜çŠ¶æ€
â””â”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
```

### æ‰©å±•äº‘æœåŠ¡æä¾›è€…

LiteDepot é‡‡ç”¨ Provider æ¶æ„è®¾è®¡ï¼Œæ”¯æŒè½»æ¾æ‰©å±•æ–°çš„äº‘æœåŠ¡ã€‚

1. åœ¨ `src/api/` åˆ›å»ºæ–°çš„ Provider ç±»ï¼Œç»§æ‰¿ `BaseProvider`
2. å®ç°å¿…è¦çš„æ¥å£æ–¹æ³•ï¼š
   - `getFields()` - è·å–å­—æ®µç»“æ„
   - `getRecords()` - è·å–è®°å½•åˆ—è¡¨
   - `updateRecord()` - æ›´æ–°å•æ¡è®°å½•
   - `batchUpdateRecords()` - æ‰¹é‡æ›´æ–°è®°å½•

3. åœ¨ `provider-factory.ts` ä¸­æ³¨å†Œæ–°çš„ Provider

ç¤ºä¾‹ï¼š

```typescript
export class NotionProvider extends BaseProvider {
  async getFields(): Promise<Field[]> {
    // å®ç° Notion API å­—æ®µè·å–
  }
  
  async getRecords(): Promise<Record[]> {
    // å®ç° Notion API è®°å½•è·å–
  }
  
  // ... å…¶ä»–æ–¹æ³•å®ç°
}
```

### è°ƒè¯•æŠ€å·§

- ä½¿ç”¨ Electron DevToolsï¼ˆåœ¨å¼€å‘æ¨¡å¼è‡ªåŠ¨æ‰“å¼€ï¼‰
- æŸ¥çœ‹ IndexedDB æ•°æ®ï¼šDevTools â†’ Application â†’ IndexedDB
- æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ï¼šDevTools â†’ Network

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥ï¼š

```bash
pnpm lint
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ‰«ç åæç¤º"æ‰¾ä¸åˆ°è´§å“"ï¼Ÿ

A: è¯·æ£€æŸ¥ï¼š
1. æ˜¯å¦å·²åœ¨è®¾ç½®é¡µé¢åŒæ­¥è´§å“åˆ—è¡¨
2. æ‰«ç å†…å®¹æ˜¯å¦ä¸è¡¨æ ¼ä¸­çš„è´§å“ç¼–å·å­—æ®µåŒ¹é…
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

### Q: å¦‚ä½•æ¸…ç©ºæœ¬åœ°ç¼“å­˜ï¼Ÿ

A: è¿›å…¥è®¾ç½®é¡µé¢ï¼Œç‚¹å‡»ã€æ¸…é™¤æœ¬åœ°ç¼“å­˜ã€‘æŒ‰é’®ï¼Œç„¶åé‡æ–°åŒæ­¥è´§å“åˆ—è¡¨ã€‚
